(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{764:function(s,n,a){"use strict";a.r(n);var l=a(7),t=Object(l.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("这个课程教的是业务级别的Mysql，深入的话就是运维级别的Mysql。")]),s._v(" "),a("h3",{attrs:{id:"用户管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户管理"}},[s._v("#")]),s._v(" 用户管理")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("可以通过SQLyog等可视化工具实现。")])]),s._v(" "),a("li",[a("p",[s._v("可以基本命令实现：")])])]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/* 用户和权限管理 */ ------------------\n用户信息表：mysql.user\n\n-- 刷新权限\nFLUSH PRIVILEGES\n\n-- 增加用户 CREATE USER kuangshen IDENTIFIED BY '123456'\nCREATE USER 用户名 IDENTIFIED BY [PASSWORD] 密码(字符串)\n  - 必须拥有mysql数据库的全局CREATE USER权限，或拥有INSERT权限。\n  - 只能创建用户，不能赋予权限。\n  - 用户名，注意引号：如 'user_name'@'192.168.1.1'\n  - 密码也需引号，纯数字密码也要加引号\n  - 要在纯文本中指定密码，需忽略PASSWORD关键词。要把密码指定为由PASSWORD()函数返回的混编值，需包含关键字PASSWORD\n\n-- 重命名用户 RENAME USER kuangshen TO kuangshen2\nRENAME USER old_user TO new_user\n\n-- 设置密码\nSET PASSWORD = PASSWORD('密码')    -- 为当前用户设置密码\nSET PASSWORD FOR 用户名 = PASSWORD('密码')    -- 为指定用户设置密码\n\n-- 删除用户 DROP USER kuangshen2\nDROP USER 用户名\n\n-- 分配权限/添加用户\nGRANT 权限列表 ON 表名 TO 用户名 [IDENTIFIED BY [PASSWORD] 'password']\n  - all privileges 表示所有权限\n  - *.* 表示所有库的所有表\n  - 库名.表名 表示某库下面的某表\n\n-- 查看权限   SHOW GRANTS FOR root@localhost;\nSHOW GRANTS FOR 用户名\n   -- 查看当前用户权限\n  SHOW GRANTS; 或 SHOW GRANTS FOR CURRENT_USER; 或 SHOW GRANTS FOR CURRENT_USER();\n\n-- 撤消权限\nREVOKE 权限列表 ON 表名 FROM 用户名\nREVOKE ALL PRIVILEGES, GRANT OPTION FROM 用户名    -- 撤销所有权限\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br")])]),a("h3",{attrs:{id:"mysql备份"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql备份"}},[s._v("#")]),s._v(" Mysql备份")]),s._v(" "),a("p",[s._v("数据库备份的必要性：")]),s._v(" "),a("ul",[a("li",[s._v("保证重要数据不丢失")]),s._v(" "),a("li",[s._v("数据库管理工具，如SQLyog")]),s._v(" "),a("li",[s._v("直接拷贝数据库文件和相关配置文件")])]),s._v(" "),a("p",[s._v("Mysql数据库备份的方式：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("直接拷贝物理文件")])]),s._v(" "),a("li",[a("p",[s._v("在SQLyog这样可视化工具中手动到处")])]),s._v(" "),a("li",[a("p",[s._v("使用命令行导出 mysqldump备份工具")]),s._v(" "),a("p",[a("img",{attrs:{src:"C:%5CUsers%5Chp%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220309172435646.png",alt:"image-20220309172435646"}})]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-- 这个主机的名字能换，可以操作远程的\n\n\n-- 导出\n1. 导出一张表 -- mysqldump -uroot -p123456 school student >D:/a.sql\n　　mysqldump -u用户名 -p密码 库名 表名 > 文件名(D:/a.sql)\n2. 导出多张表 -- mysqldump -uroot -p123456 school student result >D:/a.sql\n　　mysqldump -u用户名 -p密码 库名 表1 表2 表3 > 文件名(D:/a.sql)\n3. 导出所有表 -- mysqldump -uroot -p123456 school >D:/a.sql\n　　mysqldump -u用户名 -p密码 库名 > 文件名(D:/a.sql)\n4. 导出一个库 -- mysqldump -uroot -p123456 -B school >D:/a.sql\n　　mysqldump -u用户名 -p密码 -B 库名 > 文件名(D:/a.sql)\n\n可以-w携带备份条件\n\n-- 导入\n1. 在登录mysql的情况下：-- source D:/a.sql\n　　source 备份文件\n2. 在不登录的情况下\n　　mysql -u用户名 -p密码 库名 < 备份文件\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"规范化数据库设计"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#规范化数据库设计"}},[s._v("#")]),s._v(" 规范化数据库设计")]),s._v(" "),a("p",[s._v("当数据库比较复杂的时候，就需要设计数据库了。")]),s._v(" "),a("p",[s._v("糟糕的数据库设计：")]),s._v(" "),a("ul",[a("li",[s._v("数据冗余，存储空间浪费")]),s._v(" "),a("li",[s._v("数据更新和插入都会麻烦，异常（屏蔽使用物理外键）")]),s._v(" "),a("li",[s._v("程序性能差")])]),s._v(" "),a("p",[s._v("良好的数据库设计")]),s._v(" "),a("p",[s._v("软件开发中关于数据库的设计：")]),s._v(" "),a("ul",[a("li",[s._v("需求分析阶段：分析客户的业务和数据处理需求")]),s._v(" "),a("li",[s._v("概要设计阶段：设计数据库的E-R模型图，确认需求信息的正确和完整")])]),s._v(" "),a("p",[a("mark",[s._v("设计数据库步骤")]),s._v("：")]),s._v(" "),a("ul",[a("li",[s._v("收集信息，分析需求")]),s._v(" "),a("li",[s._v("标识实体（把需求落地到每个字段）")]),s._v(" "),a("li",[s._v("标识实体之间的关系")])]),s._v(" "),a("p",[a("img",{attrs:{src:"C:%5CUsers%5Chp%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220309174921440.png",alt:"image-20220309174921440"}})]),s._v(" "),a("h3",{attrs:{id:"三大范式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三大范式"}},[s._v("#")]),s._v(" 三大范式")]),s._v(" "),a("p",[s._v("为什么需要数据规范化？")]),s._v(" "),a("p",[s._v("因为不合规范的表设计会导致的问题：")]),s._v(" "),a("ul",[a("li",[s._v("信息重复")]),s._v(" "),a("li",[s._v("更新异常")]),s._v(" "),a("li",[s._v("插入异常：无法正确表示信息")]),s._v(" "),a("li",[s._v("删除异常：丢失有效信息")])]),s._v(" "),a("p",[s._v("三大范式：")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("第一范式")]),s._v("：确保每一列的原子性质，如果每列都是不可再分的最小数据单元，则满足第一范式")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("第二范式")]),s._v("：第二范式（2NF）是在第一范式（1NF）的基础上建立起来的，即满足第二范式（2NF）必须先满足第一范式（1NF）。")]),s._v(" "),a("p",[s._v("第二范式要求每个表只描述一件事情")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("第三范式")]),s._v("：如果一个关系满足第二范式,并且除了主键以外的其他列都不传递依赖于主键列,则满足第三范式.")]),s._v(" "),a("p",[s._v("第三范式需要确保数据表中的每一列数据都和主键直接相关，而不能间接相关。")])])]),s._v(" "),a("p",[s._v("规范性和性能的关系：")]),s._v(" "),a("ul",[a("li",[s._v("为满足某种商业目标 , 数据库性能比规范化数据库更重要")]),s._v(" "),a("li",[s._v("在数据规范化的同时 , 要综合考虑数据库的性能")]),s._v(" "),a("li",[s._v("通过在给定的表中添加额外的字段,以大量减少需要从中搜索信息所需的时间")]),s._v(" "),a("li",[s._v("通过在给定的表中插入计算列,以方便查询")])])])}),[],!1,null,null,null);n.default=t.exports}}]);